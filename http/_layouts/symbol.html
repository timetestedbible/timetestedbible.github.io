---
---
<!DOCTYPE html>
<html lang="en">
<head>
    <title>{{page.title}} - Symbol Dictionary - {{site.title}}</title>
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta content="{{ site.title }}" property="og:site_name"/>
    
    {%- if page.title -%}
    <meta content="{{ page.title }}" property="og:title"/>
    <meta content="article" property="og:type"/>
    <meta content="{{ site.url }}{{ page.url }}" property="og:url"/>
    {%- endif -%}

    <meta content="{{page.content | strip_html | strip | escape | truncatewords: 50}}" property="og:description"/> 

    <link rel="canonical" href="{{site.url}}{{page.url}}"/>
    <link rel="icon" href="{{site.favicon}}" type="image/png" sizes="16x16"/>
    <link href="/assets/css/style.css" rel="stylesheet" media="all" class="default"/>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/>
    <link href="/assets/css/book.css" rel="stylesheet" media="all"/>
    
    <style>
        .symbol-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            border-bottom: 1px solid #333;
            margin-bottom: 2rem;
        }
        .symbol-nav a {
            color: #d4a017;
            text-decoration: none;
        }
        .symbol-nav a:hover {
            text-decoration: underline;
        }
        .symbol-summary {
            background: rgba(212, 160, 23, 0.1);
            border: 1px solid rgba(212, 160, 23, 0.3);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        .symbol-summary table {
            width: 100%;
            margin: 0;
        }
        .symbol-summary th {
            text-align: left;
            color: #d4a017;
            padding: 0.5rem;
            width: 30%;
        }
        .symbol-summary td {
            padding: 0.5rem;
        }
        .symbol-content h2 {
            color: #d4a017;
            border-bottom: 1px solid #333;
            padding-bottom: 0.5rem;
            margin-top: 2rem;
        }
        .symbol-content h3 {
            color: #ccc;
        }
        .symbol-content blockquote {
            border-left: 3px solid #d4a017;
            padding-left: 1rem;
            margin-left: 0;
            color: #aaa;
            font-style: italic;
        }
        .symbol-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }
        .symbol-content th, .symbol-content td {
            border: 1px solid #444;
            padding: 0.75rem;
            text-align: left;
        }
        .symbol-content th {
            background: rgba(212, 160, 23, 0.1);
            color: #d4a017;
        }
    </style>
    
    {% seo %}
</head>

<body>
    <div class="container">                    
        <div class="box">
            <button class="header-back-btn" id="header-back-btn" onclick="safeGoBack()" title="Go back" style="display:none;">
                <i class="fa fa-arrow-left"></i>
            </button>
            <script>
                // Only show back button if we came from the same site
                (function() {
                    const btn = document.getElementById('header-back-btn');
                    const referrer = document.referrer;
                    const currentOrigin = window.location.origin;
                    
                    // Show if referrer is from same origin and there's history
                    if (referrer && referrer.startsWith(currentOrigin) && history.length > 1) {
                        btn.style.display = 'flex';
                    }
                })();
                
                function safeGoBack() {
                    const referrer = document.referrer;
                    const currentOrigin = window.location.origin;
                    
                    if (referrer && referrer.startsWith(currentOrigin)) {
                        history.back();
                    } else {
                        // Fallback: go to symbols index
                        window.location.href = '/symbols/';
                    }
                }
            </script>
            {%- include header.html -%}
            
            <main class="chapter-content">
                <nav class="symbol-nav">
                    <a href="/symbols/" class="toc-link">&larr; Symbol Dictionary</a>
                </nav>

                <article>
                    <h1>{{page.title}}</h1>
                    

                    <div class="content symbol-content">
                        {{ content }}
                    </div>
                </article>

                <nav class="symbol-nav" style="margin-top: 2rem; border-top: 1px solid #333; border-bottom: none;">
                    <a href="/symbols/" class="toc-link">&larr; Back to Symbol Dictionary</a>
                </nav>
            </main>

            <hr/>
            {%- include footer.html -%}
        </div>
        <button class="scroll-to-top" id="scroll-to-top"><i class="fa fa-chevron-up"></i></button>
    </div>
    
    <script>
        document.getElementById("scroll-to-top").addEventListener("click", function() {
            window.scrollTo({top: 0, left: 0, behavior: 'smooth'});
        });
        
        // Linkify scripture references in the content
        const scripturePattern = /\b(Genesis|Exodus|Leviticus|Numbers|Deuteronomy|Joshua|Judges|Ruth|1\s*Samuel|2\s*Samuel|1\s*Kings|2\s*Kings|1\s*Chronicles|2\s*Chronicles|Ezra|Nehemiah|Esther|Job|Psalms?|Proverbs|Ecclesiastes|Song\s*of\s*Solomon|Isaiah|Jeremiah|Lamentations|Ezekiel|Daniel|Hosea|Joel|Amos|Obadiah|Jonah|Micah|Nahum|Habakkuk|Zephaniah|Haggai|Zechariah|Malachi|Matthew|Mark|Luke|John|Acts|Romans|1\s*Corinthians|2\s*Corinthians|Galatians|Ephesians|Philippians|Colossians|1\s*Thessalonians|2\s*Thessalonians|1\s*Timothy|2\s*Timothy|Titus|Philemon|Hebrews|James|1\s*Peter|2\s*Peter|1\s*John|2\s*John|3\s*John|Jude|Revelation)\s+(\d+):(\d+)(?:-(\d+))?/g;
        
        // Process all text in the symbol content area
        document.querySelectorAll('.symbol-content p, .symbol-content li, .symbol-content td, .symbol-content blockquote').forEach(function(el) {
            // Skip if already contains links for this pattern
            if (el.querySelector('a.scripture-link')) return;
            
            const walker = document.createTreeWalker(el, NodeFilter.SHOW_TEXT, null, false);
            const textNodes = [];
            let node;
            while (node = walker.nextNode()) {
                if (scripturePattern.test(node.textContent)) {
                    textNodes.push(node);
                }
                scripturePattern.lastIndex = 0; // Reset regex
            }
            
            textNodes.forEach(function(textNode) {
                const span = document.createElement('span');
                span.innerHTML = textNode.textContent.replace(scripturePattern, function(match, book, chapter, startVerse, endVerse) {
                    const encodedBook = encodeURIComponent(book.replace(/\s+/g, ' '));
                    const url = '/bible/kjv/' + encodedBook + '/' + chapter + '?verse=' + startVerse;
                    return '<a href="' + url + '" class="scripture-link" title="Open in Bible Reader">' + match + '</a>';
                });
                textNode.parentNode.replaceChild(span, textNode);
            });
        });
    </script>
    {%- include contextmenu.html -%}
    {%- include analytics.html -%}
</body>
</html>
